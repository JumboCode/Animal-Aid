{% extends 'base.html' %}

{% load static %}

{% block styles %}
    <link href="{% static 'css/app.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'css/results.css' %}" rel="stylesheet" type="text/css" />
    <link href="{% static 'css/home.css' %}" rel="stylesheet" type="text/css" />

{% endblock styles %}


{% block content %}
    <p></p>

    <br> <br>

    <div class="row justify-content-center align-self-center" > 
        <img src="{% static 'img/SmallPawPrint.png' %}" class="pawprintsmall"> 
        <div class="AAhomesmallheader"  style=> Find Schedule </div>
        <img src="{% static 'img/SmallPawPrint.png' %}" class="pawprintsmall"> 
    </div>
    <br> <br>


    <div class="container"  id="title"> 
    <!-- <div class="row justify-content-center align-self-center" style="border: solid red">  -->
        <form action="" method="post">
            {% csrf_token %}

            <!-- Dropdown menu -->
            <select id="dog_select" name="dog_select">
                <option>Select Dog</option>
                {% for dog in dog_names %}
                    <option>{{ dog.name }}</option>
                {% endfor %}
            </select> 

            <!-- boostrap compatible dropdown trial-->
            <!-- <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle" type="button" id="dog_select">
                    Select Dog
                </button>

                <ul class="dropdown-menu" aria-labelledby="dog_select">
                    {% for dog in dog_names %}
                        <li><a class="dropdown-item" href="#">{{ dog.name }}</a></li>
                    {% endfor %}
                </ul>
            </div> -->

            <!-- Button to filter by dog name -->
            <button type="submit" name="filter_dog" id="filter_dog" class="subscribebutton">FILTER</button>
        </form>

    <!-- </div> -->
    </div>

    <p></p>


    <br> <br>

    <!-- Display matches -->
    {% if dog %}

    <div class="container-fluid" >

        <div class="whiteresultcontainer"> 

    

        <!-- Moved this here -->
        {% for dog in dog %}

        <div class="headtext">Schedule for {{ dog.name }} with owner {{ dog.owner_name }}</div>

        <div class="container"> 

        <table class="table table-hover table-responsive-md">
            <tr>
                <th>Dog Name</th>
                <th>Owner Name</th>
                <th>Owner Email</th>
                <th>Owner Phone</th>
                <th>Owner Address</th>
            </tr>
            

            <!-- moved for dog from here -->
                <tr>
                    <td>
                        {{ dog.name }}
                    </td>
                    <td>
                        {{ dog.owner_name }}
                    </td>
                    <td>
                        {{ dog.owner_email }}
                    </td>
                    <td>
                        {{ dog.owner_phone }}
                    </td>
                    <td>
                        {{ dog.address }}, {{ dog.city }}, MA {{ dog.zipcode }}
                    </td>
                </tr>
            {% endfor %}
        </table>
    {% endif %}
    
    <p>

    <br> <br>
    
    {% if match_results %}
        <table class="table table-hover table-responsive-md">
            <tr>
                <th>Walker</th>
                <!-- <th>Image</th> -->
                <!-- <th>Location</th> -->
                <th>Walker Email</th>
                <th>Walker Phone</th>
                <th>Day</th>
                <th>Starting Time</th>
                <th>Ending Time</th>
            </tr>
            {% for match in match_results %}
            <tr>
                <td>
                    {{ match.walker }}
                </td>
                <td>
                    {{ match.walker_email }}
                </td>
                <td>
                    {{ match.walker_phone }}
                </td>
                <td>
                    {{ match.day }}
                </td>
                <td>
                    {{ match.start_time }}
                </td>
                <td>
                    {{ match.end_time }}
                </td>
            </tr>
            {% endfor %}
        </table>
    


        <br> <br>
        </div>

        <!-- print button -->
        <button class="subscribebutton" onclick="window.print()">Print Schedule</button>

{% endif %}
        <br> <br>
        </div>
    </div>

<br> <br>

{% endblock %}

